name: Move issue to In Progress on assignment

on:
  issues:
    types: [assigned]

jobs:
  move-to-in-progress:
    runs-on: ubuntu-latest
    steps:
      - name: Move issue to In Progress
        uses: actions/github-script@v6
        with:
          script: |
            const issueId = context.payload.issue.node_id;

            // Replace with your Project ID and field IDs
            const projectId = "YOUR_PROJECT_ID";
            const statusFieldId = "YOUR_STATUS_FIELD_ID";
            const inProgressOptionId = "YOUR_IN_PROGRESS_OPTION_ID";

            await github.graphql(`
              mutation {
                updateProjectV2ItemFieldValue(
                  input: {
                    projectId: "${projectId}"
                    itemId: "${issueId}"
                    fieldId: "${statusFieldId}"
                    value: { singleSelectOptionId: "${inProgressOptionId}" }
                  }
                ) {
                  projectV2Item {
                    id
                  }
                }
              }
            `);
